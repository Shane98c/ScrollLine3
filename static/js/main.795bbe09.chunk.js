(window["webpackJsonpreact-js"]=window["webpackJsonpreact-js"]||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(3),o=a.n(r),s=(a(16),a(4)),l=a(5),c=a(9),p=a(6),d=a(10),h=a(7),u=a.n(h),m=(a(18),a(1)),y=a.n(m),f=a(8),g=a.n(f);function v(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var E={fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity","circle-stroke-opacity"],symbol:["icon-opacity","text-opacity"],raster:["raster-opacity"],"fill-extrusion":["fill-extrusion-opacity"]},b={left:"lefty",center:"centered",right:"righty"},w=function(e){var t=-1!==e.indexOf("?");return{url:e+(t?"&pluginName=journalismScrollytelling":"?pluginName=journalismScrollytelling")}};function C(e){var t=e.id,a=e.theme,i=e.title,r=e.image,o=e.description,s=t===e.currentChapterID?"step active":"step";return n.a.createElement("div",{id:t,className:s},n.a.createElement("div",{className:a},i&&n.a.createElement("h3",{className:"title"},i),r&&n.a.createElement("img",{src:r,alt:i}),o&&n.a.createElement("p",{dangerouslySetInnerHTML:{__html:o}})))}var x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={currentChapter:e.chapters[0]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.chapters[0].location;y.a.accessToken=t.accessToken;var i=new y.a.Map({container:"map",style:t.style,center:a.center,zoom:a.zoom,pitch:a.pitch,bearing:a.bearing,transformRequest:w,interactive:!1}),r=new y.a.Marker;function o(e){(function(e){var t=i.getLayer(e).type;return E[t]})(e.layer).forEach(function(t){i.setPaintProperty(e.layer,t,e.opacity)})}t.showMarkers&&r.setLngLat(a.center).addTo(i);var s=this.setState.bind(this),l=g()(),c=new y.a.Popup({closeButton:!1,closeOnClick:!1}),p=function(t){if("spills"===e.state.currentChapter.id){i.getCanvas().style.cursor="pointer";var a=t.features[0].geometry.coordinates.slice(),r=u.a.renderToStaticMarkup(n.a.createElement("div",null,t.features[0].properties["Local Datetime"]?n.a.createElement("div",null,t.features[0].properties["Local Datetime"]):null,t.features[0].properties["Unintentional Release Bbls"]?n.a.createElement("div",null,"Barrels Spilled:"," ",n.a.createElement("b",null,v(t.features[0].properties["Unintentional Release Bbls"]))):null,t.features[0].properties["Est Cost Oper Paid"]?n.a.createElement("div",null,"Total Cost:"," ",n.a.createElement("b",null,"$",v(t.features[0].properties["Total Cost"]))):null,t.features[0].properties["Est Cost Oper Paid"]?n.a.createElement("div",null,"Cost Operator Paid:"," ",n.a.createElement("b",null,"$",v(t.features[0].properties["Est Cost Oper Paid"]))):null));c.setLngLat(a).setHTML(r).addTo(i)}};i.on("load",function(){l.setup({step:".step",offset:.5,progress:!0}).onStepEnter(function(e){c.remove();var a=t.chapters.find(function(t){return t.id===e.element.id});s({currentChapter:a}),i.flyTo(a.location),t.showMarkers&&r.setLngLat(a.location.center),a.onChapterEnter.length>0&&a.onChapterEnter.forEach(o)}).onStepExit(function(e){var a=t.chapters.find(function(t){return t.id===e.element.id});a.onChapterExit.length>0&&a.onChapterExit.forEach(o)}),i.on("mouseenter","spills",function(e){p(e)}),i.on("click","spills",function(e){p(e)}),i.on("mouseleave","spills",function(){i.getCanvas().style.cursor="",c.remove()})}),window.addEventListener("resize",l.resize)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,i=this.state.currentChapter.id;return n.a.createElement("div",null,t.title&&n.a.createElement("div",{id:"header",className:a},n.a.createElement("h1",null,t.title),t.subtitle&&n.a.createElement("h2",null,t.subtitle),t.byline&&n.a.createElement("p",null,t.byline)),n.a.createElement("div",{ref:function(t){return e.mapContainer=t},id:"map"}),n.a.createElement("div",{id:"story"},n.a.createElement("div",{id:"features",className:b[t.alignment]},t.chapters.map(function(e){return n.a.createElement(C,Object.assign({key:e.id,theme:a},e,{currentChapterID:i}))})),t.footer&&n.a.createElement("div",{id:"footer",className:a},n.a.createElement("p",null,"Please suggest or submit content, data, imagery, or any changes to Shane Loeffler."," ",n.a.createElement("a",{href:"mailto:shane98c@gmail.com"},"shane98c@gmail.com")," ",n.a.createElement("a",{href:"https://twitter.com/shane98c"},"@shane98c")," "))))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k={style:"mapbox://styles/shane98c/ckii8dkdt2k8y19qyhtov5dda",accessToken:"pk.eyJ1Ijoic2hhbmU5OGMiLCJhIjoiY2o3dzk2anVtMG5hOTMzbzIyZzZja3ZhMyJ9.JdJS0IEbZZ7S6r3Nr87MJg",showMarkers:!1,theme:"dark",alignment:"right",title:"Line 3 Tar Sands Oil Pipeline",footer:"Please suggest/submit content, changes, etc to this map to Shane Loeffler shane98c@gmail.com @shane98c",chapters:[{id:"tarSands",title:"Canadian Tar Sands - the dirtiest fossil fuel",description:"Tar sands are mined in Alberta, disrupting pristine ecosystems in order to extract the dirtiest form of fossil fuels. ",mapAnimation:"easeTo",location:{center:[-111.56756,57.325189],zoom:17,pitch:0,bearing:0},onChapterEnter:[{layer:"mapbox-satellite",opacity:1}],onChapterExit:[]},{id:"expandTar",title:"The science on climate change is clear.",description:"The future of our planet and civilization are gravely threatened by the continued extraction of Tar Sands. At this late stage in the fight against climate change, extracting more fossil fuels, especially the dirty and wasteful tar sands of Alberta, is clear science denial.",location:{center:[-111.556856,57.311989],zoom:12,pitch:60,bearing:0,speed:.2},onChapterEnter:[{layer:"mapbox-satellite",opacity:1}],onChapterExit:[{layer:"mapbox-satellite",opacity:0}]},{id:"leavingTar",title:"Pipelines are used to transport a toxic slurry",description:"The economics of tar sands require them to be shipped by pipeline. Arguments about the relative safety of train transport vs pipeline transport are a distraction. If we stop pipeline expansion we stop the expansion of tar sand extraction.",mapAnimation:"jumpTo",location:{center:[-100.57581,49.34759],zoom:5,pitch:0},onChapterEnter:[{layer:"vt-pipeline",opacity:1}],onChapterExit:[]},{id:"spills",title:"Pipelines spill, everytime",description:"Just in the last decade of easily accessible data, the scope and cost of pipeline spills is staggering. There are no safe pipelines. \n \n \n Hover over the spill locations for detailed information.",location:{center:[-97.61394,38.46505],zoom:4,pitch:0,bearing:0,speed:.5},onChapterEnter:[{layer:"spills",opacity:1},{layer:"vt-pipeline",opacity:1},{layer:"crudeoil-pipelines-us-eia",opacity:1}],onChapterExit:[{layer:"spills",opacity:0}]},{id:"Existing",title:"Line 3 is pitched as a replacement project",description:"That's a lie. It's an expansion project that follows a new route, exposing an entirely new corridor to destruction and inevitable contamination, and significantly increases capacity. On top of that - the oil isn\u2019t even for Minnesota, the risks are. The oil transported, and the energy to do so, is equivalent to <a target='_blank' href='https://www.mepartnership.org/wp-content/uploads/2020/03/Giant-Step-Backward-report-01-29-19-FINAL-online-version-2.pdf'>50 new coal power plants or adding 38 million vehicles to our roads.</a>",location:{center:[-94,46.803],zoom:6,pitch:0,bearing:0,speed:.5},onChapterEnter:[{layer:"vt-pipeline",opacity:0},{layer:"crudeoil-pipelines-us-eia",opacity:0},{layer:"l3permroute",opacity:1},{layer:"l3can",opacity:1}],onChapterExit:[]},{id:"water",title:"A threat to water",description:"So called Minnesota is home to well over 10,000 lakes and countless streams. Line 3 cuts through the heart of the state\u2019s waterways, crossing hundreds of waterbodies, including the Mississippi River, twice. Both construction, and the inevitable spills of toxic crude oil threaten the water quality of not just Minnesota\u2019s pristine waters, but the entire Mississippi River. ",location:{center:[-94,46.803],zoom:7,pitch:0,bearing:0,speed:.5},onChapterEnter:[{layer:"l3can",opacity:0},{layer:"mapbox-satellite",opacity:0,duratiion:2e3},{layer:"streams",opacity:["interpolate",["linear"],["zoom"],6,0,9,1]},{layer:"treatiesselected",opacity:0},{layer:"treatiesLine",opacity:0},{layer:"treatyLabels",opacity:0}],onChapterExit:[]},{id:"treaties",title:"The construction and inevitable spills will desecrate treaty lands",description:"Breaking federal law across four separate treaty agreements.",location:{center:[-94,47.803],zoom:6,pitch:0,bearing:0,speed:.5},onChapterEnter:[{layer:"treatiesselected",opacity:1},{layer:"treatiesLine",opacity:1},{layer:"treatyLabels",opacity:1}],onChapterExit:[{layer:"spills",opacity:0}]},{id:"palisade",title:"Waterprotectors are fighting for a future for all of us",image:"./lockdown.jpg",description:"",location:{center:[-93.365487,46.873162],zoom:14.5,pitch:0,bearing:0,speed:1},onChapterEnter:[{layer:"l3permroute",opacity:1},{layer:"mapbox-satellite",opacity:1,duratiion:2e3},{layer:"streams",opacity:0},{layer:"treatiesselected",opacity:0},{layer:"treatiesLine",opacity:0},{layer:"treatyLabels",opacity:0}],onChapterExit:[]}]};o.a.render(n.a.createElement(x,k),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.795bbe09.chunk.js.map