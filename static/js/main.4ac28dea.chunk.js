(window["webpackJsonpreact-js"]=window["webpackJsonpreact-js"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),o=n.n(i),c=(n(15),n(4)),s=n(5),l=n(8),h=n(6),p=n(9),d=(n(16),n(1)),m=n.n(d),u=n(7),y=n.n(u),f={fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity","circle-stroke-opacity"],symbol:["icon-opacity","text-opacity"],raster:["raster-opacity"],"fill-extrusion":["fill-extrusion-opacity"]},g={left:"lefty",center:"centered",right:"righty"},E=function(e){var t=-1!==e.indexOf("?");return{url:e+(t?"&pluginName=journalismScrollytelling":"?pluginName=journalismScrollytelling")}};function v(e){var t=e.id,n=e.theme,a=e.title,i=e.image,o=e.description,c=t===e.currentChapterID?"step active":"step";return r.a.createElement("div",{id:t,className:c},r.a.createElement("div",{className:n},a&&r.a.createElement("h3",{className:"title"},a),i&&r.a.createElement("img",{src:i,alt:a}),o&&r.a.createElement("p",null,o)))}var b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={currentChapter:e.chapters[0]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chapters[0].location;m.a.accessToken=e.accessToken;var n=new m.a.Map({container:this.mapContainer,style:e.style,center:t.center,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,transformRequest:E}),a=new m.a.Marker;function r(e){(function(e){var t=n.getLayer(e).type;return f[t]})(e.layer).forEach(function(t){n.setPaintProperty(e.layer,t,e.opacity)})}e.showMarkers&&a.setLngLat(t.center).addTo(n);var i=this.setState.bind(this),o=y()();n.on("load",function(){o.setup({step:".step",offset:.5,progress:!0}).onStepEnter(function(t){var o=e.chapters.find(function(e){return e.id===t.element.id});i({currentChapter:o}),n.flyTo(o.location),e.showMarkers&&a.setLngLat(o.location.center),o.onChapterEnter.length>0&&o.onChapterEnter.forEach(r)}).onStepExit(function(t){var n=e.chapters.find(function(e){return e.id===t.element.id});n.onChapterExit.length>0&&n.onChapterExit.forEach(r)})}),window.addEventListener("resize",o.resize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=this.state.currentChapter.id;return r.a.createElement("div",null,t.title&&r.a.createElement("div",{id:"header",className:n},r.a.createElement("h1",null,t.title),t.subtitle&&r.a.createElement("h2",null,t.subtitle),t.byline&&r.a.createElement("p",null,t.byline),r.a.createElement("img",{src:"./giniw.jpg"})),r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"absolute top right left bottom"}),r.a.createElement("div",{id:"story"},r.a.createElement("div",{id:"features",className:g[t.alignment]},t.chapters.map(function(e){return r.a.createElement(v,Object.assign({key:e.id,theme:n},e,{currentChapterID:a}))})),t.footer&&r.a.createElement("div",{id:"footer",className:n},r.a.createElement("p",null,t.footer))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C={style:"mapbox://styles/shane98c/ckii8dkdt2k8y19qyhtov5dda",accessToken:"pk.eyJ1Ijoic2hhbmU5OGMiLCJhIjoiY2o3dzk2anVtMG5hOTMzbzIyZzZja3ZhMyJ9.JdJS0IEbZZ7S6r3Nr87MJg",showMarkers:!1,theme:"dark",alignment:"right",title:"Line 3 Tar Sands Oil Pipeline",chapters:[{id:"slug-style-id",title:"Indigenous lands in MN",image:"./manomin.jpg",description:"Are cool and good",location:{center:[-91,46.803],zoom:6,pitch:0,bearing:0},onChapterEnter:[],onChapterExit:[]},{id:"other-identifier",title:"Canadian Tar Sands are extremely gross and bad",description:"They should stay where they are.",location:{center:[-96.228,47.403],zoom:5.5,pitch:60,bearing:-43.2,speed:.2},onChapterEnter:[],onChapterExit:[]},{id:"other-id",title:"Canadian Tar Sands are extremely gross and bad",image:"./tar.jpeg",description:"They should stay where they are.",location:{center:[-111.020636,55.8869],zoom:5.5,pitch:60,bearing:-43.2,speed:.2},onChapterEnter:[],onChapterExit:[]},{id:"other-id2",title:"not for MN",description:"They should stay where they are.",location:{center:[-91,46.803],zoom:6,pitch:0,bearing:0,speed:.5},onChapterEnter:[],onChapterExit:[]},{id:"other-id3",title:"not for MN",description:"They should stay where they are.",location:{center:[-94,46.803],zoom:8,pitch:0,bearing:0,speed:.5},onChapterEnter:[],onChapterExit:[]}]};o.a.render(r.a.createElement(b,C),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.4ac28dea.chunk.js.map